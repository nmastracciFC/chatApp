(()=>{const e=io();let t=document.querySelector("ul"),n=document.querySelector("form"),s=n.querySelector(".message"),i=null;document.querySelector(".nickName").addEventListener("change",function(){i=this.value},!1),n.addEventListener("submit",function(t){return t.preventDefault(),i=i&&i.length>0?i:"user",msg=`${i} says ${s.value}`,e.emit("chat message",msg),s.value="",!1},!1),e.addEventListener("chat message",function(e){let n=`<li>${e.message}</li>`;t.innerHTML+=n},!1),e.addEventListener("disconnect message",function(e){let n=`<li>${e}</li>`;t.innerHTML+=n},!1)})();